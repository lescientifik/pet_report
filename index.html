<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>G√©n√©rateur de Compte Rendu TEP-FDG</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="app-container">
        <!-- Sidebar contextuel -->
        <aside id="sidebar" class="sidebar hidden">
            <button id="closeSidebar" class="close-btn">&times;</button>
            <h2>Aide √† l'interpr√©tation</h2>
            <div id="sidebarContent">
                <p class="placeholder">S√©lectionnez un type de cancer pour afficher les ressources</p>
            </div>
        </aside>

        <!-- Zone principale -->
        <main class="main-content">
            <header>
                <h1>üìä TEP-FDG - G√©n√©rateur de Compte Rendu</h1>
                <button id="resetBtn" class="btn-secondary">üîÑ Nouveau CR</button>
            </header>

            <!-- Formulaire progressif -->
            <div class="form-container">
                <!-- √âtape 1: Indication -->
                <section id="step1" class="form-step active">
                    <h2>1. Indication</h2>
                    <div class="indication-grid">
                        <button class="indication-card" data-indication="bilan">
                            <span class="icon">üîç</span>
                            <span class="label">Bilan initial</span>
                        </button>
                        <button class="indication-card" data-indication="reevaluation">
                            <span class="icon">üìà</span>
                            <span class="label">R√©√©valuation</span>
                        </button>
                        <button class="indication-card" data-indication="surveillance">
                            <span class="icon">üëÅÔ∏è</span>
                            <span class="label">Surveillance</span>
                        </button>
                        <button class="indication-card" data-indication="recidive">
                            <span class="icon">üîé</span>
                            <span class="label">Recherche de r√©cidive</span>
                        </button>
                    </div>
                </section>

                <!-- √âtape 2: Type de cancer -->
                <section id="step2" class="form-step">
                    <h2>2. Type de cancer</h2>
                    <div class="cancer-section">
                        <!-- Cancers fr√©quents en ic√¥nes -->
                        <div class="cancer-quick-select">
                            <button class="cancer-card" data-cancer="cancer du sein">
                                <span class="icon">üéóÔ∏è</span>
                                <span class="label">Sein</span>
                            </button>
                            <button class="cancer-card" data-cancer="m√©lanome">
                                <span class="icon">‚ö´</span>
                                <span class="label">M√©lanome</span>
                            </button>
                            <button class="cancer-card" data-cancer="cancer ORL">
                                <span class="icon">üë§</span>
                                <span class="label">ORL</span>
                            </button>
                            <button class="cancer-card" data-cancer="lymphome">
                                <span class="icon">ü©∏</span>
                                <span class="label">Lymphome</span>
                            </button>
                        </div>
                        <!-- Recherche pour autres cancers -->
                        <div class="cancer-search">
                            <label for="cancerInput">Ou saisir un autre cancer :</label>
                            <input type="text" id="cancerInput" placeholder="Ex: cancer du poumon, cancer colorectal..." list="cancerList">
                            <datalist id="cancerList">
                                <option value="cancer du poumon">
                                <option value="cancer colorectal">
                                <option value="cancer de l'ovaire">
                                <option value="cancer de la prostate">
                                <option value="cancer gastrique">
                                <option value="cancer du pancr√©as">
                                <option value="cancer de la thyro√Øde">
                                <option value="sarcome">
                            </datalist>
                        </div>
                    </div>
                </section>

                <!-- √âtape 2b: D√©tails sp√©cifiques au cancer -->
                <section id="step2b" class="form-step">
                    <h2>2b. D√©tails sp√©cifiques</h2>

                    <!-- Sein -->
                    <div id="cancer-sein" class="cancer-specific-form hidden">
                        <div class="form-section">
                            <label class="section-label">C√¥t√©</label>
                            <div class="button-group">
                                <button type="button" class="btn-option" data-field="cote" data-value="gauche">Gauche</button>
                                <button type="button" class="btn-option" data-field="cote" data-value="droit">Droit</button>
                                <button type="button" class="btn-option" data-field="cote" data-value="bilat√©ral">Bilat√©ral</button>
                            </div>
                        </div>

                        <div class="form-section">
                            <label class="section-label">Type histologique (optionnel)</label>
                            <div class="button-group">
                                <button type="button" class="btn-option" data-field="histologie" data-value="canalaire">Canalaire</button>
                                <button type="button" class="btn-option" data-field="histologie" data-value="lobulaire">Lobulaire</button>
                                <button type="button" class="btn-option" data-field="histologie" data-value="autre">Autre</button>
                            </div>
                        </div>

                        <div class="form-section">
                            <label class="section-label">Statut (optionnel)</label>
                            <div class="button-group">
                                <button type="button" class="btn-option" data-field="statut" data-value="RH+">RH+</button>
                                <button type="button" class="btn-option" data-field="statut" data-value="HER2+">HER2+</button>
                                <button type="button" class="btn-option" data-field="statut" data-value="triple n√©gatif">Triple n√©gatif</button>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="ki67">Ki67 (optionnel)</label>
                            <input type="text" id="ki67" placeholder="Ex: 30%">
                        </div>
                    </div>

                    <!-- M√©lanome -->
                    <div id="cancer-melanome" class="cancer-specific-form hidden">
                        <div class="form-section">
                            <label class="section-label">Site primitif (optionnel)</label>
                            <div class="button-group">
                                <button type="button" class="btn-option" data-field="site" data-value="cutan√©">Cutan√©</button>
                                <button type="button" class="btn-option" data-field="site" data-value="muqueux">Muqueux</button>
                                <button type="button" class="btn-option" data-field="site" data-value="uv√©al">Uv√©al</button>
                                <button type="button" class="btn-option" data-field="site" data-value="inconnu">Inconnu</button>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="breslow">Indice de Breslow (optionnel)</label>
                            <input type="text" id="breslow" placeholder="Ex: 2.5mm">
                        </div>
                    </div>

                    <!-- ORL -->
                    <div id="cancer-orl" class="cancer-specific-form hidden">
                        <div class="form-section">
                            <label class="section-label">Topographie</label>
                            <div class="button-group wrap">
                                <button type="button" class="btn-option" data-field="topographie" data-value="cavit√© buccale">Cavit√© buccale</button>
                                <button type="button" class="btn-option" data-field="topographie" data-value="oropharynx">Oropharynx</button>
                                <button type="button" class="btn-option" data-field="topographie" data-value="hypopharynx">Hypopharynx</button>
                                <button type="button" class="btn-option" data-field="topographie" data-value="larynx">Larynx</button>
                                <button type="button" class="btn-option" data-field="topographie" data-value="nasopharynx">Nasopharynx</button>
                                <button type="button" class="btn-option" data-field="topographie" data-value="glandes salivaires">Glandes salivaires</button>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="sous_localisation">Sous-localisation pr√©cise (optionnel)</label>
                            <input type="text" id="sous_localisation" placeholder="Ex: base de langue, amygdale...">
                        </div>

                        <div class="form-section">
                            <label class="section-label">Statut HPV (optionnel)</label>
                            <div class="button-group">
                                <button type="button" class="btn-option" data-field="hpv" data-value="HPV+">HPV+</button>
                                <button type="button" class="btn-option" data-field="hpv" data-value="HPV-">HPV-</button>
                            </div>
                        </div>
                    </div>

                    <!-- Lymphome -->
                    <div id="cancer-lymphome" class="cancer-specific-form hidden">
                        <div class="form-section">
                            <label class="section-label">Type de lymphome</label>
                            <div class="button-group wrap">
                                <button type="button" class="btn-option" data-field="type_lymphome" data-value="lymphome de Hodgkin">Hodgkin</button>
                                <button type="button" class="btn-option" data-field="type_lymphome" data-value="lymphome B diffus √† grandes cellules">LBDGC</button>
                                <button type="button" class="btn-option" data-field="type_lymphome" data-value="lymphome folliculaire">Folliculaire</button>
                                <button type="button" class="btn-option" data-field="type_lymphome" data-value="lymphome du MALT">MALT</button>
                                <button type="button" class="btn-option" data-field="type_lymphome" data-value="lymphome du manteau">Manteau</button>
                                <button type="button" class="btn-option" data-field="type_lymphome" data-value="lymphome T">Lymphome T</button>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="autre_type_lymphome">Autre type (optionnel)</label>
                            <input type="text" id="autre_type_lymphome" placeholder="Pr√©ciser si autre...">
                        </div>

                        <div class="form-section">
                            <label class="section-label">Statut (optionnel)</label>
                            <div class="button-group">
                                <button type="button" class="btn-option" data-field="statut_lymphome" data-value="au diagnostic">Diagnostic</button>
                                <button type="button" class="btn-option" data-field="statut_lymphome" data-value="en r√©mission">R√©mission</button>
                                <button type="button" class="btn-option" data-field="statut_lymphome" data-value="en rechute">Rechute</button>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- √âtape 3: D√©tails patient et traitement -->
                <section id="step3" class="form-step">
                    <h2>3. Informations patient</h2>
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="age">√Çge</label>
                            <input type="number" id="age" placeholder="Ex: 65" min="0" max="120">
                        </div>
                        <div class="form-group">
                            <label for="sexe">Sexe</label>
                            <select id="sexe">
                                <option value="">--</option>
                                <option value="M">Homme</option>
                                <option value="F">Femme</option>
                            </select>
                        </div>
                        <div class="form-group full-width">
                            <label for="traitement">Traitement en cours (optionnel)</label>
                            <input type="text" id="traitement" placeholder="Ex: chimioth√©rapie, immunoth√©rapie...">
                        </div>
                        <div class="form-group">
                            <label for="dateTraitement">Date de d√©but</label>
                            <input type="text" id="dateTraitement" placeholder="Ex: 2024, 01/2024, 15/01/2024">
                        </div>
                    </div>
                </section>

                <!-- √âtape 4: TEP ant√©rieurs -->
                <section id="step4" class="form-step">
                    <h2>4. Comparaison avec TEP ant√©rieur(s)</h2>
                    <div class="tep-comparison">
                        <label>
                            <input type="checkbox" id="hasComparison">
                            Comparaison avec TEP ant√©rieur(s)
                        </label>
                        <div id="tepList" class="tep-list hidden">
                            <!-- Les TEP seront ajout√©s dynamiquement -->
                        </div>
                        <button id="addTepBtn" class="btn-secondary hidden">+ Ajouter un TEP</button>
                    </div>
                </section>

                <!-- √âtape 5: R√©sultats -->
                <section id="step5" class="form-step">
                    <h2>5. R√©sultats</h2>
                    <div class="form-group">
                        <textarea id="resultats" rows="8" placeholder="Saisir les r√©sultats du TEP..."></textarea>
                    </div>
                </section>

                <!-- √âtape 6: Conclusion -->
                <section id="step6" class="form-step">
                    <h2>6. Conclusion</h2>
                    <div class="form-group">
                        <textarea id="conclusion" rows="4" placeholder="Saisir la conclusion..."></textarea>
                    </div>
                </section>
            </div>

            <!-- Zone de pr√©visualisation -->
            <div class="preview-container">
                <div class="preview-header">
                    <h2>Pr√©visualisation</h2>
                    <button id="copyBtn" class="btn-primary" disabled>
                        üìã Copier le compte rendu
                    </button>
                </div>
                <div id="preview" class="preview-content">
                    <p class="placeholder">Le compte rendu appara√Ætra ici au fur et √† mesure...</p>
                </div>
                <div id="copyFeedback" class="copy-feedback hidden">‚úì Copi√© !</div>
            </div>
        </main>
    </div>

    <script src="app.js"></script>
</body>
</html>
